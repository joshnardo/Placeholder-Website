<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Tasty Heavy — Project</title>

  <style>
    :root{
      --accent:#06bebd;
      --header-height:60px; /* updated via JS */
    }
    *{ box-sizing:border-box }
    html,body{ height:100%; margin:0; }
    body{
      font-family:"Andale Mono", Arial, sans-serif;
      background:#fff; color:#000;
      display:flex; flex-direction:column; min-height:100vh;
    }

    main{ flex:1 }
    .wrap{ max-width:1100px; margin:0 auto; padding:40px 18px; }

    /* -----------------------
       HEADER (sticky, unified)
       ----------------------- */
    header.site-header{
      position:sticky; top:0; z-index:5000;
      display:flex; align-items:center; justify-content:space-between;
      padding:10px 18px;
      border-bottom:1px solid #eaeaea; background:#fff;
    }
    .logo-block{ display:flex; align-items:flex-end; gap:12px; }
    .logo img{ height:42px; display:block; }
    .tagline{ font-size:13px; font-weight:400; color:#555; white-space:nowrap; }

    .desktop-nav{ display:flex; gap:16px; }
    .desktop-nav a{
      text-decoration:none; color:#000; font-weight:700;
      padding-bottom:2px; border-bottom:2px solid transparent; font-size:14px;
    }
    .desktop-nav a:hover{ color:var(--accent); }
    .desktop-nav a.active{ border-color:var(--accent); color:#000; }

    /* Mobile “Menu” trigger — same typography as nav, no box */
    .menu-link{
      display:none; background:none; border:none; padding:0;
      font:inherit; font-weight:700; font-size:14px; color:#000;
      cursor:pointer; border-bottom:2px solid transparent;
    }
    .menu-link:hover{ color:var(--accent); }
    .menu-link.open{ border-bottom-color:var(--accent); }
    .menu-link:focus-visible{ outline:2px solid var(--accent); outline-offset:2px; border-radius:4px; }

    /* Mobile header layout (centered menu, logo, tagline) */
    @media (max-width:768px){
      header.site-header{
        flex-direction:column; align-items:center; gap:8px;
        padding:14px 18px 16px;
      }
      .desktop-nav{ display:none; }
      .menu-link{ display:inline-block; } /* centered above logo */
      .logo-block{ flex-direction:column; align-items:center; gap:6px; }
      .tagline{ white-space:normal; font-size:12px; line-height:1.3; text-align:center; }
    }

    /* -----------------------
       MOBILE NAV (drops under header)
       ----------------------- */
    .mobile-nav{
      display:none; position:fixed; left:0; right:0;
      top:0; /* pushed down via transform when opened */
      background:#fff; border-top:1px solid #eaeaea; z-index:7000;
      box-shadow:0 8px 20px rgba(0,0,0,.06);
      transform:translateY(var(--header-height));
    }
    .mobile-nav.show{ display:block; }
    .mobile-nav a{
      display:block; padding:16px 20px; border-bottom:1px solid #eaeaea;
      text-decoration:none; color:#000; font-weight:700; font-size:16px;
    }
    .mobile-nav a:hover{ background:#f5f5f5; color:var(--accent); }

    /* -----------------------
       PROJECT LAYOUT
       ----------------------- */
    .project-title{ font-size:30px; margin:0 0 18px; font-weight:800; letter-spacing:.2px; text-align:left; }

    /* Hero video */
    .hero-video{
      position:relative; width:100%; aspect-ratio:16/9;
      margin-bottom:24px; /* match grid gap for even spacing in mobile stack */
      background:#000; overflow:hidden;
    }
    .hero-video iframe{ position:absolute; inset:0; width:100%; height:100%; border:0; background:#000; }

    /* Row of 2 videos */
    .video-row{
      display:grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
      gap:24px; margin-bottom:24px; /* unified spacing */
    }
    .video-row .video{
      position:relative; width:100%; aspect-ratio:16/9; background:#000; overflow:hidden;
    }
    .video-row .video iframe{ position:absolute; inset:0; width:100%; height:100%; border:0; background:#000; }

    .overview{ margin-top:22px; border-top:1px solid #eee; padding-top:18px; }
    .overview h2{ font-size:18px; font-weight:800; margin:0 0 12px; letter-spacing:.2px; }
    .overview p{ font-size:16px; line-height:1.65; margin:0 0 12px; }

    /* -----------------------
       FOOTER
       ----------------------- */
    footer.site-footer{
      border-top:1px solid #eaeaea; background:#fff;
      padding:16px 18px; font-size:14px; color:#000;
      display:flex; justify-content:space-between; align-items:center;
      flex-wrap:wrap; gap:10px;
    }
    footer.site-footer a{ color:#000; text-decoration:none; font-weight:700; }
    footer.site-footer a:hover{ color:var(--accent); }
  </style>
</head>
<body>
  <!-- HEADER (sticky, unified) -->
  <header class="site-header" id="siteHeader">
    <button class="menu-link" id="menuBtn" aria-expanded="false" aria-controls="mobileNav">Menu</button>

    <div class="logo-block">
      <a class="logo" href="index.html" aria-label="Tasty Heavy — Home">
        <img src="https://res.cloudinary.com/dlyxadp9n/image/upload/v1742775262/TastyLogo2024_i09kgy.png" alt="Tasty Heavy logo">
      </a>
      <span class="tagline">is Josh Nardo /// Director /// DP /// Editor</span>
    </div>

    <nav aria-label="Primary" class="desktop-nav">
      <a href="index.html">Home</a>
      <a href="about.html">About</a>
    </nav>
  </header>

  <!-- MOBILE NAV -->
  <nav class="mobile-nav" id="mobileNav" aria-label="Mobile">
    <a href="index.html">Home</a>
    <a href="about.html">About</a>
  </nav>

  <!-- MAIN -->
  <main>
    <section class="wrap">
      <h1 class="project-title" id="projectTitle">Just Stopping By</h1>

      <!-- Hero Vimeo Video -->
      <div class="hero-video">
        <iframe src="https://player.vimeo.com/video/751932658?autoplay=0&muted=0&loop=0&controls=1&title=0&byline=0&portrait=0&transparent=0&dnt=1"
          allow="autoplay; fullscreen; picture-in-picture"
          title="Hero Project Video"></iframe>
      </div>

      <!-- Two Vimeo Videos beneath -->
      <div class="video-row">
        <div class="video">
          <iframe src="https://player.vimeo.com/video/762826063?autoplay=0&muted=0&loop=0&controls=1&title=0&byline=0&portrait=0&transparent=0&dnt=1"
            allow="autoplay; fullscreen; picture-in-picture"
            title="Supporting Video 1"></iframe>
        </div>
        <div class="video">
          <iframe src="https://player.vimeo.com/video/798562619?autoplay=0&muted=0&loop=0&controls=1&title=0&byline=0&portrait=0&transparent=0&dnt=1"
            allow="autoplay; fullscreen; picture-in-picture"
            title="Supporting Video 2"></iframe>
        </div>
      </div>

      <!-- Overview -->
      <div class="overview" id="projectOverview">
        <h2>Overview</h2>
        <p>Client: Reef &nbsp;•&nbsp; Role: Concept Development, Director, DP, Editor &nbsp;•&nbsp; Year: 2025</p>
      </div>
    </section>
  </main>

  <!-- FOOTER (still using your partial) -->
  <div id="site-footer"></div>
  <template id="footer-fallback">
    <footer class="site-footer">
      <span>© 2025 Tasty Heavy</span>
      <span>
        <a href="mailto:hello@tastyheavy.com">hello@tastyheavy.com</a>
        &nbsp; | &nbsp;
        <a href="https://instagram.com/tastyheavy" target="_blank">@tastyheavy</a>
      </span>
    </footer>
  </template>

  <!-- Scripts -->
  <script>
    // Footer partial (header is inline now)
    async function injectPartial(mountId, url, fallbackTemplateId){
      const mount = document.getElementById(mountId);
      try{
        const res = await fetch(url, { credentials:'same-origin' });
        if(!res.ok) throw new Error('Fetch failed');
        mount.innerHTML = await res.text();
      }catch(e){
        const tpl = document.getElementById(fallbackTemplateId);
        mount.innerHTML = tpl ? tpl.innerHTML : '';
      }
      highlightActiveNav(mount);
    }
    function highlightActiveNav(scope){
      const path = location.pathname.split('/').pop() || 'index.html';
      const links = scope.querySelectorAll('nav[aria-label="Primary"] a');
      links.forEach(a=>{
        const href = a.getAttribute('href');
        const isHome = (path === '' || path === 'index.html') &&
                       (href === 'index.html' || href === './' || href === '/');
        if(isHome || href === path) a.classList.add('active');
      });
    }
    injectPartial('site-footer', '/partials/footer.html', 'footer-fallback');

    // Track current header height for mobile-nav placement
    function setHeaderHeightVar(){
      const h = document.getElementById('siteHeader')?.offsetHeight || 60;
      document.documentElement.style.setProperty('--header-height', h + 'px');
    }
    window.addEventListener('load', setHeaderHeightVar);
    window.addEventListener('resize', setHeaderHeightVar);

    // Mobile menu toggle
    const menuBtn  = document.getElementById('menuBtn');
    const mobileNav = document.getElementById('mobileNav');
    menuBtn?.addEventListener('click', () => {
      const open = mobileNav.classList.toggle('show');
      menuBtn.setAttribute('aria-expanded', String(open));
      menuBtn.classList.toggle('open', open);
      setHeaderHeightVar();
    });
    mobileNav?.addEventListener('click', (e) => {
      if(e.target.matches('a')){
        mobileNav.classList.remove('show');
        menuBtn.setAttribute('aria-expanded','false');
        menuBtn.classList.remove('open');
        setHeaderHeightVar();
      }
    });

    setHeaderHeightVar();
  </script>
</body>
</html>